{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","paginaSiguiente","paginaAnterior","botonesPaginador","mostrarResumen","nombreCita","fechaCita","deshabilitarFechaAnterior","horaCita","seccionAnterior","document","querySelector","classList","remove","add","tabAnterior","querySelectorAll","forEach","enlace","addEventListener","e","preventDefault","parseInt","target","dataset","paso","async","resultado","fetch","db","json","servicio","id","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","error","console","log","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","filter","servicioObj","resumenDiv","firstChild","removeChild","Object","values","includes","noServicios","headingCita","innerHTML","serviciosCita","headingServicios","cantidad","contenedorServicio","textoServicio","totalServicio","split","trim","cantidadPagar","nombreTexto","value","length","mostrarAlerta","alerta","mensaje","tipo","setTimeout","fechaInput","dia","Date","getUTCDay","inputFecha","fechaAhora","fechaDeshabilitar","getFullYear","getMonth","slice","getDate","min","inputHora"],"mappings":"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","file":"bundle.js","sourcesContent":["\r\n//Variable global usada para cambiar los tabs en la navegacion.\r\nlet pagina = 1;\r\n\r\nconst cita = {\r\n    nombre:'',\r\n    fecha:'',\r\n    hora:'',\r\n    servicios:[]\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp(){\r\n\r\n    mostrarServicios();\r\n\r\n    //Resalta el DIV actual segun el Tab al que se presiona\r\n    mostrarSeccion();\r\n\r\n    //Oculta o muestra una seccion segun el Tab al que se presiona\r\n    cambiarSeccion();\r\n\r\n    //Paginación siguiente y anterior\r\n    paginaSiguiente();\r\n    paginaAnterior();\r\n\r\n    //Comprueba la pagina actual para ocultar o mostrar la paginacion\r\n    botonesPaginador();\r\n\r\n    //Muestra el resumen de la cita (o mensaje de error en caso de no pasar la validación)\r\n    mostrarResumen();\r\n\r\n    //Almacena el nombre de la cita en el objeto\r\n    nombreCita();\r\n\r\n    //Almacena la fecha de la cita en el objeto\r\n    fechaCita();\r\n\r\n    //Deshabilitar dias pasados\r\n    deshabilitarFechaAnterior();\r\n\r\n    //Almacenar hora cita\r\n    horaCita();\r\n\r\n    \r\n}\r\n\r\n\r\nfunction mostrarSeccion()\r\n{ \r\n  //Eliminar mostrar-seccion de la seccion anterior\r\n  const seccionAnterior = document.querySelector('.mostrar-seccion');\r\n    if(seccionAnterior) {\r\n        seccionAnterior.classList.remove('mostrar-seccion');\r\n    }\r\n  \r\n\r\n  const seccionActual = document.querySelector(`#paso-${pagina}`);\r\n  seccionActual.classList.add('mostrar-seccion');\r\n\r\n\r\n  //Eliminar la clase de actual en el tab anterior\r\n  const tabAnterior = document.querySelector('.tabs .actual');\r\n  if(tabAnterior) {\r\n    tabAnterior.classList.remove('actual');  \r\n  }\r\n\r\n\r\n  //Resalta el Tab actual\r\n  const tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n  tab.classList.add('actual');\r\n\r\n}\r\n\r\n\r\n\r\nfunction cambiarSeccion()\r\n{\r\n   const enlaces = document.querySelectorAll('.tabs button'); \r\n   enlaces.forEach( enlace =>{\r\n        enlace.addEventListener('click', e => {\r\n            e.preventDefault();\r\n\r\n            //Obtenemos el data-paso del HTML en String, pero necesitamos que sea un nº (int). Hacemos la conversion.\r\n\r\n            pagina = parseInt(e.target.dataset.paso);\r\n\r\n            //console.log(typeof e.target.dataset.paso);\r\n            //console.log(e.target.dataset.paso);\r\n            //console.log('Click en un botón');\r\n            //console.log(pagina);\r\n\r\n            /* Eliminar mostrar-seccion de la sección anterior\r\n            document.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion'); \r\n            (Cortamos este codigo para usarlo en la f() mostrarSeccion).*/\r\n            //----------------------------------------------------\r\n\r\n            /*         \r\n            -Todo este trozo de codigo se quita ya que la funcionalidad es reemplazada por mostrarSeccion(), declarada mas abajo que añade la clase \"mostrar-seccion\" en su propio codigo.\r\n            \r\n            //Agrega mostrar-seccion donde dimos click\r\n                    const seccion = document.querySelector(`#paso-${pagina}`);\r\n                    \r\n                    seccion.classList.add('mostrar-seccion');\r\n                    //----------------------------------------------------\r\n\r\n                    // Eliminar la clase de actual en el tab anterior\r\n                    document.querySelector('.tabs .actual').classList.remove('actual');\r\n                    //(Cortamos este codigo para usarlo en la f() mostrarSeccion).\r\n                    //----------------------------------------------------\r\n\r\n                    //Agrega la clase de actual en el nuevo tab\r\n                    const tabActual = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n                    tabActual.classList.add('actual'); \r\n            */\r\n            //----------------------------------------------------\r\n\r\n\r\n            //Llamar la funcion de mostrarSeccion\r\n            mostrarSeccion();\r\n\r\n            botonesPaginador();\r\n\r\n            //console.log(seccion);\r\n        })\r\n   })\r\n}\r\n\r\nasync function mostrarServicios()\r\n{\r\n    try {\r\n        const resultado = await fetch ('./servicios.json');\r\n        const db = await resultado.json();\r\n\r\n        const { servicios } = db;\r\n        \r\n        //Generar el HTML: Creamos una variable nueva que alojará cada valor de \"servicios\" por el que va a ir iterando.\r\n\r\n        servicios.forEach( servicio => {\r\n\r\n            const { id, nombre, precio } = servicio; //Destructuring nuevamente: Creamos 3 variables que alojarán los valores en c/u de ellas.\r\n            \r\n\r\n        //DOM Scripting (Crearemos el HTML con JS). Que insertaremos en el div de clase \".listado-servicios\"\r\n\r\n            //Generar nombre de servicio\r\n            const nombreServicio = document.createElement('P');\r\n            nombreServicio.textContent = nombre;\r\n            nombreServicio.classList.add('nombre-servicio');\r\n\r\n            //Generar precio de servicio\r\n            const precioServicio = document.createElement('P');\r\n            precioServicio.textContent = `$ ${precio}`//Template String\r\n            precioServicio.classList.add('precio-servicio');\r\n\r\n            //Generar div contenedor de servicio\r\n            const servicioDiv = document.createElement('DIV');\r\n            servicioDiv.classList.add('servicio');\r\n            servicioDiv.dataset.idServicio = id;\r\n\r\n            //Selecciona un servicio para la cita: Creamos un evento para el click en alguno de los servicios y que ejecute la funcion \"seleccionarServicio\" que declararemos mas abajo.\r\n            servicioDiv.onclick = seleccionarServicio;\r\n\r\n            //Inyectar precio y nombre al div de servicio\r\n            servicioDiv.appendChild(nombreServicio);\r\n            servicioDiv.appendChild(precioServicio);\r\n\r\n            document.querySelector('#servicios').appendChild(servicioDiv);\r\n\r\n            \r\n            //console.log(nombreServicio);\r\n            //console.log(precioServicio); */\r\n\r\n\r\n        })\r\n\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n    \r\n}\r\n\r\n/* Podemos verificar mediante mensajes en consola asignando las variables consultadas del try/catch para ver si existen y asi poder ir validando, en el momento de la construccion del codigo. */\r\n\r\n\r\nfunction seleccionarServicio(e)\r\n{   \r\n    /* Aclaracion: La idea es que asigne un id al div seleccionado para luego traer ese dato para poder identificarlo. Sucede que onClick se aplica al div (padre) pero tambien a los elementos hijos (los 2 párrafos). Y cuando se de click en algun de esos elementos dará undefined ya que el id generado se generará en el div unicamente. Para ello crearemos una manera en la que si se da que se de click en alguno de sus elementos hijos se cambie al elemento padre (el div). \r\n    \r\n   */\r\n\r\n    let elemento;\r\n\r\n    //Forzar que el elemento al cual le damos click sea el DIV\r\n    if(e.target.tagName === 'P')\r\n    {   \r\n        elemento = e.target.parentElement;\r\n       // console.log('Click en el Párrafo') \r\n       // \"parentElement\": Sentencia que indica que apunte hacia el elemento padre.        \r\n       \r\n    } else \r\n        {\r\n            elemento = e.target;\r\n           // console.log('Click en el DIV')           \r\n        }\r\n\r\n       // console.log(elemento);\r\n\r\n    //Ahora añadimos una clase para cuando se seleccione y se deseleccione tambien darle estilo correspondiente. Controlaremos esto mediante \"conteins\" que controla si esta contenido un elemento y definimos que palabra controlar.\r\n\r\n    //-Despues trabajaremos con esta misma funcion, añadiendo otras 2 que mandarán a llamar a otras funciones que nos serviran para llevar el dato de cuales estas seleccionadas y asi crear agregarlas o no en el resumen (video 16-Agregar o eliminar servicios).\r\n     \r\n    if(elemento.classList.contains('seleccionado'))\r\n    {\r\n        elemento.classList.remove('seleccionado');\r\n\r\n        //console.log(elemento.dataset.idServicio);\r\n        const id = parseInt( elemento.dataset.idServicio );\r\n        eliminarServicio(id); \r\n\r\n    } else\r\n        {\r\n            elemento.classList.add('seleccionado');\r\n            \r\n            //console.log(elemento);\r\n            const servicioObj = {\r\n                id: parseInt( elemento.dataset.idServicio ),\r\n                nombre: elemento.firstElementChild.textContent,\r\n                precio: elemento.firstElementChild.nextElementSibling.textContent\r\n            }\r\n\r\n            //console.log(servicioObj);\r\n            agregarServicio(servicioObj); \r\n        }\r\n\r\n    //console.log('Click en Servicio');\r\n    //console.log(elemento.dataset.idServicio); \r\n    //console.log(servicioObj);\r\n}\r\n\r\n\r\nfunction eliminarServicio(id) {\r\n   //console.log('Eliminando...',id);\r\n\r\n   const { servicios } = cita;\r\n   cita.servicios = servicios.filter( servicio => servicio.id !== id );\r\n\r\n   //console.log(cita);\r\n\r\n}\r\n\r\n\r\n\r\nfunction agregarServicio(servicioObj) {\r\n    //console.log('Agregando...');\r\n\r\n    const { servicios } = cita;\r\n\r\n    cita.servicios = [...servicios, servicioObj];\r\n    //Lo que hacemos con los  es copiar el elemento \"servicios\" mediante los 3 puntos y crear un elemento nuevo (arreglo \"cita.servicios\"), añadiendole tambien los valores de servicioObj que traemos desde la f() seleccionarServicio.\r\n\r\n    //console.log(cita);\r\n}\r\n\r\n\r\n\r\nfunction paginaSiguiente() {\r\n    \r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', ()=>{\r\n        pagina++;\r\n\r\n        console.log(pagina);\r\n\r\n        botonesPaginador(); //-Dado que esta funcion se ejecuta cuando esta preparado el documento ('DOMContentLoaded'), la variable pagina es = 1 y trabajamos con ese valor para incrementar o decrementar, pero debemos de comprobar nuevamente en que pagina se encuentra luego de haber cambiado el valor de \"pagina\" para que al pasar por los if compare e indique si debe ocultar o mostrar segun corresponda.\r\n    });\r\n\r\n    //console.log('Siguiente');\r\n}\r\n\r\nfunction paginaAnterior() {\r\n\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', ()=>{\r\n        pagina--;\r\n\r\n        console.log(pagina);\r\n\r\n        botonesPaginador(); //Aclaracion de esto en la f() anterior.\r\n    });    \r\n    //console.log('Anterior');\r\n}\r\n\r\n\r\nfunction botonesPaginador() {\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n\r\n    if(pagina === 1) {\r\n        //console.log('El boton de anterior no se debe mostrar');\r\n        paginaAnterior.classList.add('ocultar');\r\n    } /* else if (pagina === 2) {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar'); \r\n    }*/ \r\n    else if (pagina === 3) {\r\n        paginaSiguiente.classList.add('ocultar');\r\n        paginaAnterior.classList.remove('ocultar');\r\n\r\n        mostrarResumen(); //Una vez que hallamos seleccionado el servicio + datos del cliente, osea este todo listo deberemos de volver a llamar a esta funcion para que vuelv a procesarla, ya que inicialmente se ejecutaba unicamente cuando el documento estaba listo (inicialmente con sentencia DOMContentLoaded) estando el objeto \"cita\" vacio y dando que faltaban datos por defecto. Ahora que estan cargados deberá validar nuevamente.\r\n\r\n    } else {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrarSeccion(); //Cambia la seccion que se muestra la pagina\r\n}\r\n\r\n\r\n\r\nfunction mostrarResumen() {\r\n\r\n    //Destructuring \r\n    const { nombre, fecha, hora, servicios } = cita;\r\n\r\n    //Seleccionar el resumen\r\n    const resumenDiv = document.querySelector('.contenido-resumen');\r\n\r\n    //Limpia el HTML previo\r\n\r\n    //resumenDiv.innerHTML=''; \r\n    //-Lo limpiará pero no está bien hacerlo de esa forma ya que este tarda 20 o 30 veces mas tiempo en ejecutarse que atravez de while que sentenciamos a continuacion.\r\n    \r\n    while(resumenDiv.firstChild) {\r\n        resumenDiv.removeChild( resumenDiv.firstChild );\r\n    }\r\n\r\n\r\n    //Validacion de objeto (verifica si es cierto que esta vacio)\r\n    if(Object.values(cita).includes('')) {\r\n\r\n        const noServicios = document.createElement('P');\r\n\r\n        noServicios.textContent = 'Faltan datos de servicios, hora, fecha o nombre';\r\n\r\n        noServicios.classList.add('invalidar-cita');\r\n\r\n        //Agregar a resumenDiv (nueva clase, si es que no llenó alguno de los servicios)\r\n        resumenDiv.appendChild(noServicios);\r\n\r\n       // console.log('El objeto esta vacio'); \r\n       //Mostrará ese mensaje por consola, pero si tiene datos cargados, dejará de mostrarlo.\r\n\r\n       return;\r\n    } \r\n        /* else //Este else se desactiva, ya que no sera necesario dejar esta alternativa, en muchos casos cuando no hace falta else en el if ponen return y asi es como quedará;\r\n        {\r\n            console.log('Todo bien, vamos a mostrar resumen');\r\n        } */\r\n\r\n            //console.log(Object.values(cita))\r\n            // console.log(cita);\r\n\r\n   //Mostrar el resumen\r\n    \r\n   //Insertamos titulo al HTML\r\n    const headingCita = document.createElement('H3');\r\n    headingCita.textContent = 'Resumen de Cita';   \r\n\r\n      \r\n\r\n    //Insertamos HTML a Resumen (nombre).\r\n    const nombreCita = document.createElement('P');\r\n\r\n    //nombreCita.textContent = `<span>Nombre:</span>${nombre}`;\r\n\r\n    //Aclaracion: Si usamos textContent para añadir al HTML este añadirá texto y como acá cuando pasamos una etiqueta la tratará como texto tambien. Entonces para que tome como etiquetas HTML usamos \"innerHTML\" para insertar.\r\n\r\n    nombreCita.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n    //console.log(nombreCita);\r\n    \r\n    \r\n\r\n\r\n    //Insertamos HTML a Resumen (fecha).\r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fecha}`;\r\n    //console.log(fechaCita);\r\n\r\n    \r\n\r\n\r\n    //Insertamos HTML a Resumen (hora).\r\n    const horaCita = document.createElement('P');\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora}`;\r\n    //console.log(horaCita);\r\n\r\n    \r\n\r\n    //Creamos variable nueva, para crear div que alojará el HTML de servicio + precio. No podemos usar alguna clase existente ya que los objetos \"textoServicio\" y \"precioServicio\" existen solo DENTRO de la funcion que itera a \"servicios\". Una vez creado lo usamos en (colocar texto y precio en el div).\r\n\r\n    const serviciosCita = document.createElement('DIV');\r\n    serviciosCita.classList.add('resumen-servicios');\r\n\r\n\r\n    //Creamos un heading (h3) para agregar al resumen, para aclarar y que quede mejor la vista de estos en la pagina.\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'Resumen de Servicios';   \r\n\r\n    serviciosCita.appendChild(headingServicios);    \r\n    \r\n\r\n    let cantidad = 0; //La usaremos para sacar el total de los servicios. Ponemos la sentencia fuera porque si estuviera dentro de forEach se reiniciaria en 0 cada vez que valla iterando.\r\n\r\n\r\n    //Iterar sobre el arreglo de servicios\r\n    servicios.forEach( servicio => {\r\n        const {nombre, precio} = servicio;\r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P');\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.textContent = precio;\r\n        precioServicio.classList.add('precio');//Le alregamos otra clase div adicional para darle estilo css.\r\n\r\n        //--------------------------------------\r\n        //Creamos las variables para extraer el precio y hacer con ella la sumatoria de todos los servicios.\r\n\r\n        const totalServicio = precio.split('$'); //Usamos slit() para separar el valor (el simbolo $ + 80 por ej). Y trim() para quitar el espacio \" 80\". Por ultimo parseInt para pasar a entero (nº en azul).\r\n\r\n        cantidad +=parseInt(totalServicio[1].trim());\r\n\r\n        //console.log(parseInt(totalServicio[1].trim()));\r\n        //console.log(precio);\r\n\r\n        //console.log(textoServicio);\r\n\r\n        //Colocar texto y precio en el div\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        serviciosCita.appendChild(contenedorServicio);\r\n\r\n    });\r\n\r\n    //console.log(cantidad);\r\n\r\n    resumenDiv.appendChild(headingCita); \r\n    resumenDiv.appendChild(nombreCita);\r\n    resumenDiv.appendChild(fechaCita);\r\n    resumenDiv.appendChild(horaCita);\r\n\r\n    resumenDiv.appendChild(serviciosCita);\r\n\r\n    //Aqui pasamos cantidad al párrafo que creamos e insertaremos al HTML\r\n    const cantidadPagar = document.createElement('P');\r\n    cantidadPagar.classList.add('total');\r\n    cantidadPagar.innerHTML = `<span>Total a Pagar: </span>$ ${cantidad}`;\r\n\r\n    resumenDiv.appendChild(cantidadPagar);\r\n\r\n}\r\n\r\n\r\nfunction nombreCita() {\r\n    const nombreInput = document.querySelector('#nombre');\r\n\r\n    nombreInput.addEventListener('input', e => {\r\n\r\n        const nombreTexto = e.target.value.trim(); \r\n        //El método trim( ) elimina los espacios en blanco en ambos extremos del string. Esto sirve en caso de que tengamos dentro del label muchos espacios en blanco, este no los leerá y finalmente guardará en variable lo que sean letras unicamente. Tambien existe \"trimStart\" que los elimina al comienzo de la palabra y \"trimEnd\" al final, pero la 1era elimina en ambos sentidos. Y si toma espacios en 1 entre palabras, osea una separacion normal.\r\n\r\n        //console.log(nombreTexto);\r\n        //console.log('Escribiendo');\r\n        //console.log(e.target.value); -Sabremos que es lo que el usuario esta escribiendo.\r\n\r\n        //Validacion de que nombre texto debe tener algo\r\n        if( nombreTexto === '' || nombreTexto.length < 3 ) {\r\n            \r\n            mostrarAlerta('Nombre no valido','error');\r\n            //console.log('Nombre no valido');\r\n\r\n        } else {\r\n            \r\n            const alerta = document.querySelector('alerta');\r\n            if(alerta) {\r\n                alerta.remove();\r\n            }\r\n\r\n             cita.nombre = nombreTexto;\r\n            //console.log('Nombre valido');\r\n            console.log(cita);\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction mostrarAlerta(mensaje, tipo) { //En caso de error o de correcto ingreso de datos en Informacion Cliente\r\n\r\n    //Si hay una alerta previa, no crear otra.\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if(alertaPrevia) {\r\n        return; //Si existe una alerta entonces no ejecuta todo lo demas que es crear una alerta.\r\n    }\r\n\r\n    //console.log('El mensaje es ', mensaje);\r\n\r\n    const alerta = document.createElement('DIV');\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add('alerta');\r\n\r\n    if(tipo === 'error')\r\n    {\r\n        alerta.classList.add('error');\r\n    }\r\n\r\n            // console.log(alerta);\r\n\r\n   //Insertar en el HTML\r\n\r\n    const formulario = document.querySelector('.formulario');\r\n    formulario.appendChild(alerta);\r\n\r\n  //Eliminar la alerta luego de 3 segundos\r\n    setTimeout( ()=> {\r\n        alerta.remove();\r\n    },3000);\r\n\r\n}\r\n\r\nfunction fechaCita() {\r\n    const fechaInput = document.querySelector('#fecha');\r\n    fechaInput.addEventListener('input', e => {\r\n        //console.log(e.target.value);\r\n\r\n        //El formato obtenido es String por lo que deberemos pasarlo a formato fecha tenemos que pasarlo a su formate mediante Date.\r\n\r\n        const dia = new Date(e.target.value).getUTCDay(); \r\n\r\n        //getUTCDay(): Retorna de la fecha, solo el nº del dia en rango de 0 a 6, siendo 0 Domingo etc.\r\n\r\n        //De las siguientes formas podemos hacer imprimir en consola y si se quiere utilizar ese formato para mostrar o guardar el dato. En el video comenta todo ya que solo precisa saber si es Domingo para mostrar mensaje de que ese dia no se trabaja.\r\n\r\n        /* const opciones = {\r\n            weekday:'long',\r\n            year:'numeric',\r\n            month:'long'\r\n        } */\r\n\r\n        //console.log(dia);\r\n        //console.log(dia.toLocaleDateString('es-ES'));\r\n        //console.log(dia.toLocaleDateString('es-ES', opciones));\r\n\r\n        if([0, 6].includes(dia)) {\r\n\r\n            e.preventDefault();\r\n            fechaInput.value='';\r\n            //Agregamos el prevent porque si bien muestra el mensaje de error, la fecha se agrega igual, asique para prevenir esa carga detenemos la misma. Y le indicamos que fecha sera igual a String vacio para resetear ese valor. De esa manera el valor en el input no se agrega (vuelve a aparecer dd/mm/aaaa).\r\n\r\n            mostrarAlerta('Fines de semana no son permitidos', 'error');\r\n            //console.log('Seleccionaste Domingo lo cual no es valido');\r\n        } else {\r\n\r\n            cita.fecha = fechaInput.value;\r\n\r\n            //console.log('Dia valido');\r\n            //console.log('cita');\r\n        }\r\n\r\n    })\r\n}\r\n\r\n\r\n\r\nfunction deshabilitarFechaAnterior() {\r\n\r\n\r\n    const inputFecha = document.querySelector('#fecha');\r\n\r\n    //var date = new Date().toISOString().substr(0, 19);\r\n\r\n    const fechaAhora = new Date();\r\n    const year = fechaAhora.getFullYear(); //Obtenemos año\r\n    //const mes = fechaAhora.getMonth() + 1; //Obtenemos mes (en JS van de 0 a 11)\r\n    //const dia = fechaAhora.getDate() + 1; //Obtenemos dia (ponemos +1 para que no reserven para el mismo dia)\r\n\r\n    //De la forma en la que explica en el video no funciona ya que no se expresan en 2 digitos los dias y meses, sino en uno. De la siguiente forma, analizando la web encontre de que manera se estos se expresan en correctamente para que el metodo \"min\" la tome.\r\n    const mes = (\"0\" + (fechaAhora.getMonth() + 1)).slice(-2);\r\n    const dia = (\"0\" + fechaAhora.getDate()).slice(-2);\r\n    \r\n\r\n    //console.log(\"Año: \"+year);\r\n    //console.log(\"Mes: \"+mes);\r\n    //console.log(\"Dia: \"+dia);  \r\n\r\n    //console.log(dia);\r\n    //console.log(fechaAhora);\r\n\r\n    //Formato deseado: AAAA-MM-DD\r\n\r\n    const fechaDeshabilitar = `${year}-${mes}-${dia}`;\r\n    //console.log(fechaDeshabilitar);\r\n\r\n    inputFecha.min = fechaDeshabilitar;\r\n}\r\n\r\n\r\n\r\nfunction horaCita() {\r\n    const inputHora = document.querySelector('#hora');\r\n\r\n    inputHora.addEventListener('input', e => {\r\n\r\n        const horaCita = e.target.value; \r\n        const hora = horaCita.split(':'); //Array:[\"0\":22,\"1\":00]\r\n\r\n        //Método split(): Sirve para dividir un resultado analizando si hay espacios o algun elemento que separe ese resultado en terminos. Como \"hora\" expresa como resultado horas y minutos entonce ssi entre () se pone cual es ese elemento que nosotros definiremos hará la division y al resultado lo entregará como un arreglo en este caso de 2 posiciones ([0][1]). Ejemplificamos para las 22hs.\r\n\r\n        //console.log(horaTexto);\r\n        //console.log(e.target.value); -Sabremos cual es la hora que el usuario carga\r\n\r\n        //Validacion de hora mediante if\r\n        if( hora [0]<10 || hora[0]>18) { //Si hora es menor a 10hs o mayor de 18hs, no se tomarán citas.\r\n             \r\n            mostrarAlerta('Hora no valida','error'); //Llamamos a la f() mostrarAlerta para que muestre el error.\r\n\r\n            setTimeout(()=>{\r\n                inputHora.value =''; \r\n            }, 3000);\r\n            \r\n            //Aparte desabilitamos la hora mal cargada, vuelve a --:-- nuevamente. Lo encapsulamos dentro de un setTimeOut para que lo haga luego de 3s de haberlo ingresado mal.\r\n\r\n            //console.log('Hora no valida');\r\n\r\n        }  else {\r\n            \r\n            const alerta = document.querySelector('alerta');\r\n            if(alerta) {\r\n                alerta.remove();\r\n            }\r\n\r\n             cita.hora = horaCita;\r\n            //console.log('Hora valida');\r\n            //console.log(cita);\r\n        }\r\n    });\r\n}"]}